function dXdt = sys_stick(t,X)
global m g L
m=0.3;
g=10;
L=0.15;

dXdt = zeros(8,1);
x = X(1);
y = X(2);
theta1 = X(3);
theta2 = X(4);
xd = X(5);
yd = X(6);
theta1d = X(7);
theta2d= X(8);

dXdt(1) = X(5);
dXdt(2) = X(6);
dXdt(3) = X(7);
dXdt(4) = X(8);

tau=tau_calc(t);

%    The rest of the function was generated by the Symbolic Math Toolbox version 8.6.
t2 = cos(theta1);
t3 = cos(theta2);
t4 = sin(theta2);
t5 = L.^2;
t6 = theta2.*2.0;
t7 = theta1d.^2;
t8 = theta2d.^2;
t12 = 1.0./m;
t9 = cos(t6);
t10 = sin(t6);
t11 = 1.0./t5;
t13 = t6+theta1;
t14 = cos(t13);
t15 = t9.*1.8e+1;
t16 = t15-6.7e+1;
t17 = 1.0./t16;
rhs = [0.0;0.0;t11.*t12.*t17.*(t3.*tau.*-1.2e+1+m.*t4.*t5.*t7.*2.0e+1+m.*t4.*t5.*t8.*2.0e+1+m.*t5.*t7.*t10.*1.2e+1-L.*g.*m.*t2.*2.4e+1+L.*g.*m.*t14.*6.0+m.*t4.*t5.*theta1d.*theta2d.*4.0e+1).*(-3.0./2.0);t11.*t12.*t17.*(tau.*-5.1e+1-t3.*tau.*1.8e+1+m.*t4.*t5.*t7.*1.32e+2+m.*t4.*t5.*t8.*3.0e+1+m.*t5.*t7.*t10.*3.6e+1+m.*t5.*t8.*t10.*1.8e+1+L.*g.*m.*cos(theta1+theta2).*2.4e+1-L.*g.*m.*cos(theta1-theta2).*2.7e+1-L.*g.*m.*t2.*3.6e+1+L.*g.*m.*t14.*9.0+m.*t4.*t5.*theta1d.*theta2d.*6.0e+1+m.*t5.*t10.*theta1d.*theta2d.*3.6e+1)];

dXdt(5:8) = rhs;     
end
